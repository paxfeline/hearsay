<script>
    setup({
        init: self =>
        {
            self.num = 0;
            self.slot("slot", "You have clicked 0 times!");

            self.timer = setTimeout( () =>
            {
                self.slot("subheading", "That's all!")
                if (self.num == 0) self.slot("slot", "Do better next time.")
                self.timer = null;
            },
            5000)
        },
        react: (self, data, recipient) =>
        {
            if (self.timer && data == "inc" && self.key == recipient)
            {
                self.num++;
                self.slot("slot", "You have clicked ", self.num, self.num == 1 ? " time" : " times");
            }
        },
    });
</script>

<h1>
    <slot name="title">Clicker</slot>
</h1>
<div>
    <h3>
        <slot name="subheading"></slot>
    </h3>
    <slot></slot>
</div>

<button onclick="broadcast('inc', this.component.key)">
    Click
</button>
